@model  Trackables.Models.ProductViewModel
@using Trackables.Domain

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <div id="macroTableDiv">
        <div>
            @Html.LabelFor(model => model.Name, new { @style = "display:inline-block; width:120px" })
            @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @style = "width:300px" } })
            @Html.ValidationMessageFor(model => model.Name)
        </div>

        @foreach (string key in Model.MacroNutrients.Keys)
        {
            <div>
                @Html.Label(key, new { @style = "display:inline-block; width:120px" })
                @Html.EditorFor(model => model.MacroNutrients[key], new { htmlAttributes = new { @style = "width:70px" } })
                @Html.ValidationMessageFor(model => model.MacroNutrients[key])
            </div>

        }

        <p>
            <input type="submit" value="Create" />
        </p>

        <div>
            @Html.ActionLink("Back to List", "Index")
        </div>
    </div>

    <div id="microTableDiv">

        @foreach (string key in Model.MicroNutrients.Keys)
        {
            <div>
                @Html.Label(key, new { @style = "display:inline-block; width:120px" })
                @Html.EditorFor(model => model.MicroNutrients[key], new { htmlAttributes = new { @style = "width:70px" } })
                @Html.ValidationMessageFor(model => model.MicroNutrients[key])
            </div>

        }

    </div>

}

<script src="@Url.Content("~/Scripts/TrackablesProducts.js")" type="text/javascript"></script>
